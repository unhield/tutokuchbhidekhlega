// Premium UNHIELD Product Data with Image Carousels
const products = [
    {
        id: 1,
        name: 'AUGEN 3D Skull Drinking Mug GOT Winter is Coming Double Wall Stainless Steel Resin Gothic Helmet Coffee Mugs Skull Bone Knight King Tankard Dragon Wolf Cup (10015D)',
        category: 'Gothic Drinkware',
        description: 'Experience the power of Westeros with this iconic 3D skull drinking mug inspired by Game of Thrones. Features double-wall stainless steel construction with intricate resin detailing.',
        price: 1199,
        originalPrice: 2499,
        discount: 52,
        rating: 4.3,
        reviews: 287,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_1_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_1_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_1_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_1_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_1_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_1_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/4ob0EtB',
        features: [
            '3D Skull Gothic Design',
            'Double Wall Stainless Steel',
            'Game of Thrones Inspired',
            'Resin Gothic Helmet Style'
        ]
    },
    {
        id: 2,
        name: 'AUGEN 3D Skull Drinking Mug Double Wall Stainless Steel Resin Gothic Helmet Coffee Mugs Skull Bone Knight King Tankard Dragon Wolf Cup (3476E72)',
        category: 'Gothic Drinkware',
        description: 'Unleash your inner warrior with this stunning 3D skull mug featuring double-wall stainless steel construction and detailed Gothic helmet design.',
        price: 799,
        originalPrice: 1599,
        discount: 50,
        rating: 4.2,
        reviews: 156,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_2_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_2_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_2_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_2_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_2_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_2_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/3LeqbmN',
        features: [
            '3D Skull Bone Design',
            'Double Wall Construction',
            'Gothic Helmet Style',
            'Premium Resin Detailing'
        ]
    },
    {
        id: 3,
        name: 'READAEER Small Size Human Skull Resin Statue Head Sculptures Skull Collectible Figurines (Black & Golden)',
        category: 'Gothic Collectibles',
        description: 'Add a touch of mystery to your space with this intricately crafted human skull resin statue. Perfect for collectors and Gothic decor enthusiasts.',
        price: 2443,
        originalPrice: 5700,
        discount: 57,
        rating: 4.5,
        reviews: 89,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_3_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_3_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_3_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_3_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_3_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_3_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/431nJGx',
        features: [
            'Premium Resin Construction',
            'Black & Golden Finish',
            'Collectible Figurine',
            'Detailed Skull Sculpture'
        ]
    },
    {
        id: 4,
        name: 'Pure Source India Oil Burner for Home, Office, with 1 Tea Light Candle, Made by Porcelain (Black)',
        category: 'Gothic Accessories',
        description: 'Create a mystical ambiance with this elegant porcelain oil burner. Perfect for aromatherapy and creating a Gothic atmosphere in your space.',
        price: 280,
        originalPrice: 599,
        discount: 53,
        rating: 4.1,
        reviews: 234,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_4_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_4_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_4_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_4_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_4_5.jpg'
        ],
        affiliateLink: 'https://amzn.to/43xxaxv',
        features: [
            'Premium Porcelain Material',
            'Includes Tea Light Candle',
            'Perfect for Aromatherapy',
            'Elegant Black Design'
        ]
    },
    {
        id: 5,
        name: 'BonZeal Grenade Shaped Coffee Mug with Lid & Handle | 280 ml Black Ceramic Mug for Tea, Coffee, Milk | Unique Gift for Army, Men, Boys, Husband, Brother, Office & Home Use',
        category: 'Tactical Drinkware',
        description: 'Make a bold statement with this unique grenade-shaped coffee mug. Perfect for military enthusiasts and those who appreciate edgy drinkware design.',
        price: 499,
        originalPrice: 1399,
        discount: 64,
        rating: 4.4,
        reviews: 445,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_5_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_5_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_5_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_5_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_5_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_5_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/4ob1hTZ',
        features: [
            'Unique Grenade Shape',
            '280ml Capacity',
            'Black Ceramic Material',
            'Includes Lid & Handle'
        ]
    },
    {
        id: 6,
        name: 'Emerge Medieval Dragon Tankard with Jeweled Handle, Stainless Steel and Pewter Design, Gothic Style Beer Mug',
        category: 'Medieval Drinkware',
        description: 'Channel medieval royalty with this majestic dragon tankard featuring jeweled handle and pewter design. Perfect for ceremonial drinks and Gothic collections.',
        price: 1299,
        originalPrice: 2599,
        discount: 50,
        rating: 4.6,
        reviews: 178,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_6_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_6_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_6_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_6_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_6_5.jpg'
        ],
        affiliateLink: 'https://amzn.to/4qv4peQ',
        features: [
            'Medieval Dragon Design',
            'Jeweled Handle',
            'Stainless Steel & Pewter',
            'Gothic Style Beer Mug'
        ]
    },
    {
        id: 7,
        name: 'alikiki Medieval Flame Dragon Wine Goblet - Fantasy Dungeons and Dragons Wine Chalice Goblet- 7oz Stainless Steel Cup Drinking Vessel - Ideal Novelty Gothic Father Day Gift Party Idea',
        category: 'Fantasy Goblets',
        description: 'Elevate your drinking experience with this stunning flame dragon wine goblet. Perfect for D&D enthusiasts and medieval fantasy lovers.',
        price: 4808,
        originalPrice: 5769,
        discount: 17,
        rating: 4.7,
        reviews: 92,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_7_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_7_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_7_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_7_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_7_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_7_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/43sICdO',
        features: [
            'Medieval Flame Dragon Design',
            '7oz Stainless Steel Cup',
            'D&D Fantasy Theme',
            'Gothic Wine Chalice'
        ]
    },
    {
        id: 8,
        name: 'alikiki Medieval Fantasy Blue Dragon Goblet - Dungeons and Dragons Gifts Party Decoration D&D Game Chalice Cup of Thrones Merchandise 7oz Stainless Steel Gothic Drinking Cups',
        category: 'Fantasy Goblets',
        description: 'Immerse yourself in fantasy with this magnificent blue dragon goblet. Essential for any D&D collection and medieval themed parties.',
        price: 9044,
        originalPrice: 9044,
        discount: 0,
        rating: 4.8,
        reviews: 67,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_8_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_8_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_8_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_8_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_8_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_8_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/3LegK6S',
        features: [
            'Blue Dragon Fantasy Design',
            '7oz Stainless Steel',
            'D&D Game Merchandise',
            'Gothic Drinking Cup'
        ]
    },
    {
        id: 9,
        name: 'Medieval Blue Dragon Wine Goblet - Large Dungeons and Dragons Fantasy Chalice Cup - 14oz Stainless Steel Insert Beer Coffee Drinking Vessel - Ideal Novelty Gothic Gift Party Idea Celtic',
        category: 'Fantasy Goblets',
        description: 'Command attention with this large blue dragon wine goblet featuring 14oz capacity. Perfect for those who appreciate Celtic and medieval aesthetics.',
        price: 6368,
        originalPrice: 9099,
        discount: 30,
        rating: 4.5,
        reviews: 134,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_9_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_9_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_9_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_9_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_9_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_9_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/3L7aHRG',
        features: [
            'Large 14oz Capacity',
            'Blue Dragon Design',
            'Stainless Steel Insert',
            'Celtic Gothic Style'
        ]
    },
    {
        id: 10,
        name: 'Stainless Steel The Eye of The Dragon Wine Goblet Chalice,Dungeons and Dragons Medieval DragonWine Cups 7oz.Men\'s Gift (Yellow Eyes)',
        category: 'Fantasy Goblets',
        description: 'Unleash the power of the dragon with this mesmerizing eye of the dragon wine goblet. Features striking yellow eyes and premium stainless steel construction.',
        price: 5583,
        originalPrice: 11625,
        discount: 52,
        rating: 4.9,
        reviews: 45,
        images: [
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_10_1.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_10_2.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_10_3.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_10_4.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_10_5.jpg',
            'https://raw.githubusercontent.com/unhield/tutokuchbhidekhlega/main/Product_10_6.jpg'
        ],
        affiliateLink: 'https://amzn.to/4qM7R55',
        features: [
            'Eye of Dragon Design',
            'Yellow Eyes Detail',
            '7oz Wine Chalice',
            'Medieval Dragon Theme'
        ]
    }
];

// Carousel state management
const carouselState = {};

// Initialize application
document.addEventListener('DOMContentLoaded', function() {
    renderProducts();
    setupSmoothScroll();
    initializeCarousels();
});

// Render Premium Products with Image Carousels
function renderProducts() {
    const productsGrid = document.getElementById('products-grid');
    
    productsGrid.innerHTML = products.map(product => {
        const stars = '★'.repeat(Math.floor(product.rating)) + '☆'.repeat(5 - Math.floor(product.rating));
        
        // Generate carousel images HTML
        const imagesHTML = product.images.map((img, index) => 
            `<img src="${img}" alt="${product.name} - Image ${index + 1}" class="product-image ${index === 0 ? 'active' : ''}" loading="${index === 0 ? 'eager' : 'lazy'}">`
        ).join('');
        
        // Generate carousel dots HTML
        const dotsHTML = product.images.map((_, index) => 
            `<button class="carousel-dot ${index === 0 ? 'active' : ''}" data-index="${index}" aria-label="View image ${index + 1}"></button>`
        ).join('');
        
        return `
            <div class="product-card" data-product-id="${product.id}">
                ${product.discount > 0 ? `<div class="product-badge">${product.discount}% OFF</div>` : ''}
                <div class="product-image-container" data-carousel-id="${product.id}">
                    ${imagesHTML}
                    <button class="carousel-arrow prev" aria-label="Previous image">‹</button>
                    <button class="carousel-arrow next" aria-label="Next image">›</button>
                    <div class="carousel-controls">
                        ${dotsHTML}
                    </div>
                </div>
                <div class="product-content">
                    <div class="product-category">${product.category}</div>
                    <h3 class="product-name">${product.name}</h3>
                    <div class="product-rating">
                        <span class="product-stars">${stars}</span>
                        <span class="product-reviews">(${product.reviews} reviews)</span>
                    </div>
                    <p class="product-description">${product.description}</p>
                    <ul class="product-features">
                        ${product.features.slice(0, 3).map(feature => `<li>${feature}</li>`).join('')}
                    </ul>
                    <div class="product-footer">
                        <div class="product-pricing">
                            <span class="product-price">₹${product.price.toLocaleString('en-IN')}</span>
                            ${product.discount > 0 ? `<span class="product-original-price">₹${product.originalPrice.toLocaleString('en-IN')}</span>` : ''}
                            ${product.discount > 0 ? `<span class="product-discount">SAVE ${product.discount}%</span>` : ''}
                        </div>
                        <a href="${product.affiliateLink}" target="_blank" rel="noopener noreferrer" class="acquire-btn">
                            Buy Now
                        </a>
                    </div>
                </div>
            </div>
        `;
    }).join('');
}

// Initialize Image Carousels
function initializeCarousels() {
    products.forEach(product => {
        carouselState[product.id] = { currentIndex: 0, totalImages: product.images.length };
        
        const container = document.querySelector(`[data-carousel-id="${product.id}"]`);
        if (!container) return;
        
        // Setup arrow controls
        const prevBtn = container.querySelector('.carousel-arrow.prev');
        const nextBtn = container.querySelector('.carousel-arrow.next');
        
        if (prevBtn) {
            prevBtn.addEventListener('click', (e) => {
                e.preventDefault();
                navigateCarousel(product.id, -1);
            });
        }
        
        if (nextBtn) {
            nextBtn.addEventListener('click', (e) => {
                e.preventDefault();
                navigateCarousel(product.id, 1);
            });
        }
        
        // Setup dot controls
        const dots = container.querySelectorAll('.carousel-dot');
        dots.forEach(dot => {
            dot.addEventListener('click', (e) => {
                e.preventDefault();
                const index = parseInt(dot.getAttribute('data-index'));
                goToSlide(product.id, index);
            });
        });
        
        // Auto-advance carousel every 4 seconds
        setInterval(() => {
            navigateCarousel(product.id, 1);
        }, 4000);
    });
}

// Navigate Carousel
function navigateCarousel(productId, direction) {
    const state = carouselState[productId];
    let newIndex = state.currentIndex + direction;
    
    // Wrap around
    if (newIndex < 0) newIndex = state.totalImages - 1;
    if (newIndex >= state.totalImages) newIndex = 0;
    
    goToSlide(productId, newIndex);
}

// Go to Specific Slide
function goToSlide(productId, index) {
    const state = carouselState[productId];
    state.currentIndex = index;
    
    const container = document.querySelector(`[data-carousel-id="${productId}"]`);
    if (!container) return;
    
    // Update images
    const images = container.querySelectorAll('.product-image');
    images.forEach((img, i) => {
        img.classList.toggle('active', i === index);
    });
    
    // Update dots
    const dots = container.querySelectorAll('.carousel-dot');
    dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
    });
}


// Smooth scroll
function setupSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            if (href === '#') return;
            
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}



// Smooth scroll animation observer
const observerOptions = {
    threshold: 0.15,
    rootMargin: '0px 0px -80px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe product cards for smooth entrance animation
window.addEventListener('load', function() {
    const animateElements = document.querySelectorAll('.product-card, .testimonial-card, .trust-card');
    animateElements.forEach((el, index) => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
        observer.observe(el);
    });
});

